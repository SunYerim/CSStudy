## Web Server와 WAS의 차이

**Static Pages** : 바뀌지 않는 페이지 <br>
웹 서버에 <u>이미 저장된 파일</u>(HTML 파일, 이미지, JavaScript 파일 등)을 <u>클라이언트에게 전송</u>하는 웹 페이지 <br>

<br>

**Dynamic Pages** : 인자에 따라 바뀌는 페이지 <br>
서버에 저장된 HTML 파일이 그대로 브라우저에 나오는 것이 아닌 <u>동적으로 만들어지는 웹 페이지</u> <br>

> 💡 **_동적 웹 페이지의 종류_** <br>
> (1) **CSR** : 데이터가 없는 HTML 문서나 Static 파일만을 처음에 받아와 로드하고, 이후에 데이터를 요청하여 받아오는 방식 <br><br>
> (2) **SSR** : CSR과 상반되게 서버에서 동적으로 데이터까지 전부 삽입하여 완성된 HTML을 넘겨준다 <br><br>
> (3) **MPA** : 새로운 페이지를 요청할 때마다 정적 리소스가 다운로드 되고, 그에 맞춰 전체 페이지를 다시 렌더링하는 방식이다 <br><br>
> (4) **SPA** : 웹 애플리케이션에 필요한 모든 정적 리소스를 최초 한 번만 다운로드 한다.

<br><br>

### 웹 서버와 WAS의 차이

---

**🔎 웹 서버** <br>
개념에 있어서 하드웨어와 소프트웨어로 구분된다. <br>

- **하드웨어** : Web 서버가 설치되어 있는 컴퓨터
- **소프트웨어** : 웹 브라우저 클라이언트로부터 HTTP 요청을 받고, 정적인 컨텐츠(html, css 등)를 제공하는 컴퓨터 프로그램 <br>

<br>

**웹 서버 기능** <br>
Http 프로토콜을 기반으로 클라이언트의 요청을 서비스하는 기능을 담당 <br>

- **정적 컨텐츠 제공** : WAS를 거치지 않고 바로 자원 제공
- **동적 컨텐츠 제공** : 클라이언트 요청을 WAS에 보내고 WAS에서 처리한 결과를 클라이언트에게 전달 <br>

<br>

**웹 서버 종류** <br>
Apache, Nginx, IIS 등 <br>

<br>

**🔎 WAS** <br>
DB 조회 및 다양한 로직 처리 요구시 동적인 컨텐츠를 제공하기 위해 만들어진 애플리케이션 서버 <br>

HTTP를 통해 애플리케이션을 수행해주는 미들웨어다 <br>
**WAS는 웹 컨테이너 혹은 서블릿 컨테이너**라고도 불림 <br>

> 💡 **_컨테이너_** <br>
> JSP, Servlet을 실행시킬 수 있는 소프트웨어, 즉 WAS는 JSP, Servlet 구동 환경을 제공해줌 <br>

<br>

**(1) 역할** <br>
WAS = 웹 서버 + 웹 컨테이너 <br>
웹 서버의 기능들을 구조적으로 분리하여 처리하는 역할 <br><br>
**_보안, 스레드 처리, 분산 트랜잭션 등 분산 환경에서 사용됨 (주로 db 서버와 함께 사용)_**

<br>

**(2) WAS의 주요 기능** <br>
① 프로그램 실행 환경 및 db 접속 기능 제공 <br>
② 여러 트랜잭션 관리 기능 <br>
③ 업무 처리하는 비즈니스 로직 수행 <br>

<br>

**(3) WAS 종류** <br>
Tomcat, JBoss 등 <br>

<br>

### 둘을 구분하는 이유는?

---

- **웹 서버가 필요한 이유** : 웹 서버에서는 <u>정적 컨텐츠만 처리</u>하도록 기능 분배를 해서 서버 부담을 줄이는 것
- **WAS가 필요한 이유** : WAS를 통해 요청에 맞는 데이터를 DB에서 가져와 <u>비즈니스 로직에 맞게 그때마다 결과를 만들고 제공</u>하면서 자원을 효율적으로 사용할 수 있음 <br><br>
  → 서버 부하 방지를 위해! **_(자원 이용의 효율성 및 장애 극복, 배포 및 유지 보수의 편의성 때문에 웹 서버와 WAS를 분리)_**

<br><br>

> 💡 **_가장 효율적인 방법_** <br>
> 웹 서버를 WAS 앞에 두고, 필요한 WAS들을 웹 서버에 플러그인 형태로 설정하면 효율적인 분산 처리가 가능함!

<br><br>

### 면접 질문

---

<details>
  <summary>web server와 WAS의 차이점</summary>
  이 둘의 가장 큰 차이점은 동적인 컨텐츠를 다룰 수 있는가? 입니다. 웹 서버는 처리할 수 있는 데이터가 html, css, 이미지 등 정적인 데이터로 한정됩니다. 웹 애플리케이션에서 정적인 데이터가 아닌 동적인 컨텐츠까지도 사용하기 위해서는 웹 애플리케이션 서버가 필요합니다. <br><br>
  웹 애플리케이션 서버는 웹 서버에 웹 컨테이너를 붙인 형태입니다. WAS를 사용해서 클라이언트가 서버로부터 데이터를 받는 방식은 다음과 같습니다. <br><br>
  1. 클라이언트가 웹 서버에 데이터를 요청합니다. <br>
  2. 웹 서버에서는 동적 컨텐츠인지 확인하고 동적 컨텐츠라면 웹 컨테이너로, 정적 컨텐츠라면 클라이언트에게 전송합니다. <br>
  3. 동적 컨텐츠를 전송받은 웹 컨테이너는 Servlet 구동 환경을 제공합니다. <br>
  4. 제공받은 환경에서 동적 컨텐츠를 생성하고 이를 웹 서버에 넘겨줍니다. <br>
  5. 넘겨받은 동적 컨텐츠를 클라이언트에게 전송합니다
</details>
