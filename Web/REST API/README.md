---
layout: post
title: REST API
date: 2024-09-06 22:27 +0900
pin: false
math: true
mermaid: true
description:
categories: [Computer Science, Web]
tags: [rest, restful, api]
---

## REST APIλ€?

REST (**RE**presentational **S**tate **T**ransfer)

* μ›Ή μƒμ <u>μμ›μ„ μ΄λ¦„μΌλ΅ κµ¬λ¶„</u>ν•κ³  ν•΄λ‹Ή μμ›μ <u>μƒνƒλ¥Ό μ£Όκ³  λ°›λ” λ¨λ“  κ²ƒ</u>
  * μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… μƒμ— μ΅΄μ¬ν•λ” λ¨λ“  λ¦¬μ†μ¤μ— λ€ν•΄ κ³ μ μ URIλ¥Ό λ¶€μ—¬
  * HTTP Methodλ¥Ό ν†µν•΄μ„ λ¦¬μ†μ¤μ— λ€ν• μ‘μ—…(CRUD λ…λ Ή)μ„ μ μ©
* λ€ν‘ μƒνƒ μ „μ†΅
  * `URIκ°€ λ¶€μ—¬λ λ¦¬μ†μ¤μ μƒνƒλ¥Ό μ‘λ‹µμΌλ΅ μ „μ†΅` ν•λ‹¤λ” λ»


## RESTμ κµ¬μ„± μ”μ†

1. μμ› (Resource) 
   * μ„λ²„μ μ΅΄μ¬ν•λ” λ°μ΄ν„°μ μ΄μΉ­
   * μμ›μ€ κ³ μ μ URIλ¥Ό κ°€μ§€λ©°, μ΄λ¥Ό ν†µν•΄μ„ νΉμ • μμ›μ„ μ‹λ³„ κ°€λ¥ν•λ‹¤
2. ν–‰μ„ (Verb)
   * ν΄λΌμ΄μ–ΈνΈκ°€ HTTP Methodλ¥Ό μ΄μ©ν•μ—¬ μμ›μ„ μ΅°μ‘ν•λ” λ¨λ“  ν–‰μ„
3. ν‘ν„ (Representation)
   * ν΄λΌμ΄μ–ΈνΈκ°€ HTTP Methodλ΅ μμ›μ„ μ΅°μ‘ν•λ©΄ μ„λ²„κ°€ κ·Έμ— λ€ν• μ‘λ‹µμ„ JSONκ³Ό κ°™μ€ ν•μ‹μΌλ΅ λ³΄λƒ„





## REST architectureμ— μ μ©λλ” μ ν• μ΅°κ±΄

1. μΈν„°νμ΄μ¤ μΌκ΄€μ„±
   * μΌκ΄€μ μΈ μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬λ¨
2. Cacheable
   * ν΄λΌμ΄μ–ΈνΈλ” μ‘λ‹µμ„ μΊμ‹±ν•  μ μμ–΄μ•Όν•¨
   * ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„μ μƒνΈμ‘μ©μ„ λ¶€λ¶„μ μΌλ΅ λλ” μ™„μ „ν μ κ±°ν•μ—¬ ν™•μ¥μ„±κ³Ό μ„±λ¥μ„ ν–¥μƒμ‹ν‚¬ μ μμ
3. Stateless
   * κ° μ”μ²­ κ°„ ν΄λΌμ΄μ–ΈνΈμ contextκ°€ μ„λ²„μ— μ €μ¥λμ–΄μ„λ” μ•λλ‹¤.
4. Layered System
   * ν΄λΌμ΄μ–ΈνΈλ” λ³΄ν†µ μ„λ²„μ— μ§μ ‘ μ—°κ²° λμ—λ”μ§€, λλ” ν”„λ΅μ‹ μ„λ²„λ¥Ό ν†µν•΄μ„ μ—°κ²°λμ—λ”μ§€ μ• μ μ—†λ‹¤. 
   * ν”„λ΅μ‹ μ„λ²„λ” **λ΅λ“ λ°Έλ°μ‹±** κΈ°λ¥μ΄λ‚ κ³µμ  μΊμ‹ κΈ°λ¥μ„ μ κ³µν•¨μΌλ΅μ¨ μ‹μ¤ν… κ·λ¨ ν™•μ¥μ„±μ„ ν–¥μƒμ‹ν‚¤λ” κ²ƒμ— μ μ©ν•λ‹¤.
5. Code on demand (Optional)
   * μλ°” μ• ν”λ¦Ώμ΄λ‚ μλ°”μ¤ν¬λ¦½νΈμ μ κ³µμ„ ν†µν•΄μ„ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈκ°€ μ‹¤ν–‰μ‹ν‚¬ μ μλ” λ΅μ§μ„ μ „μ†΅ν•μ—¬ κΈ°λ¥μ„ ν™•μ¥μ‹ν‚¬ μ μλ‹¤.
6. Client-Server κµ¬μ΅°
   * μ•„ν‚¤ν…μ²λ¥Ό λ‹¨μν™”μ‹ν‚¤κ³  μ‘μ€ λ‹¨μ„λ΅ λ¶„λ¦¬(decoupling)ν•¨μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈ-μ„λ²„μ κ° ννΈκ°€ λ…λ¦½μ μΌλ΅ κ°μ„ λ  μ μλ„λ΅ λ„μ™€μ¤€λ‹¤.



## REST μΈν„°νμ΄μ¤ μ›μΉ™

1. **μμ›μ μ‹λ³„**

   * <u>Requestλ‚΄μ— κΈ°μ λ κ°λ³„ μμ›μ„ μ‹λ³„ν•  μ μμ–΄μ•Όν•λ‹¤</u>. μμ›μ κ·Έ μμ²΄λ” ν΄λΌμ΄μ–ΈνΈκ°€ λ°›λ” λ¬Έμ„μ™€λ” κ°λ…μ μΌλ΅ λ¶„λ¦¬λμ–΄μλ‹¤.
   * μλ¥Ό λ“¤μ–΄, μ„λ²„λ” λ°μ΄ν„°λ² μ΄μ¤ λ‚΄λ¶€μ μλ£λ¥Ό μ§μ ‘ μ „μ†΅ν•λ” λ€μ‹ , λ°μ΄ν„°λ² μ΄μ¤ λ μ½”λ“λ¥Ό HTML, XMLμ΄λ‚ JSON λ“±μ ν•μ‹μΌλ΅ μ „μ†΅

2. **λ©”μ„Έμ§€λ¥Ό ν†µν• λ¦¬μ†μ¤μ μ΅°μ‘**

   * ν΄λΌμ΄μ–ΈνΈκ°€ μ–΄λ–¤ μμ›μ„ μ§€μΉ­ν•λ” λ©”μ„Έμ§€μ™€ νΉμ • λ©”νƒ€λ°μ΄ν„°λ§ κ°€μ§€κ³  μλ‹¤λ©΄, μ¶©λ¶„ν•κ² μ„λ²„ μƒμ ν•΄λ‹Ή μμ›μ„ λ³€κ²½, μ‚­μ ν•  μ μλ” μ •λ³΄λ¥Ό κ°€μ§€λ” κ²ƒ

3. π’΅ **μκΈ°μ„μ μ  λ©”μ„Έμ§€**

   * self-descriptive messages

   1. κ° λ©”μ„Έμ§€λ” μμ‹ μ„ μ–΄λ–»κ² μ²λ¦¬ν•΄μ•Ό ν•λ”μ§€μ— λ€ν• μ¶©λ¶„ν• μ •λ³΄λ¥Ό ν¬ν•¨
      * MIME typeκ³Ό κ°™μ€ μΈν„°λ„· λ―Έλ””μ–΄ νƒ€μ…μ„ μ „μ†΅ν•  κ²½μ°, λ©”μ„Έμ§€λ” μ–΄λ–¤ νμ„λ¥Ό μ΄μ©ν•΄μ•Όν•λ”μ§€μ— λ€ν• μ •λ³΄λ„ ν¬ν•¨
      * λ―Έλ””μ–΄ νƒ€μ…λ§ κ°€μ§€κ³ λ„, ν΄λΌμ΄μ–ΈνΈλ” μ–΄λ–»κ² κ·Έ λ‚΄μ©μ„ μ²λ¦¬ν•΄μ•Όν•  μ§€ μ• μ μμ–΄μ•Όν•λ‹¤.
   2. λ©”μ„Έμ§€λ¥Ό μ΄ν•΄ν•κΈ° μ„ν•΄μ„ κ·Έ λ‚΄μ©κΉμ§€ μ‚΄ν΄λ΄μ•Ό ν•λ‹¤λ©΄, κ·Έ λ©”μ„Έμ§€λ” μκΈ°μ„μ μ μ΄μ§€ μ•λ‹¤.
      * `application/xml` μ΄λΌλ” λ―Έλ””μ–΄ νƒ€μ…μ€, μ‹¤μ  λ‚΄μ©μ„ λ‹¤μ΄λ΅λ“ λ°›μ§€ μ•μΌλ©΄ κ·Έ λ©”μ„Έμ§€λ¥Ό κ°€μ§€κ³  λ¬΄μ—‡μ„ ν•΄μ•Όν• μ§€μ— λ€ν•΄ μ¶©λ¶„ν μ•λ ¤μ£Όμ§€ λ»ν•¨

4. **μ• ν”λ¦¬μΌ€μ΄μ… μƒνƒμ— λ€ν• μ—”μ§„μΌλ΅μ„ ν•μ΄νΌλ―Έλ””μ–΄** 

   * Hypermedia as the engine of application state (HATEOAS)

   * λ§μ•½, ν΄λΌμ΄μ–ΈνΈκ°€ κ΄€λ ¨λ λ¦¬μ†μ¤μ— μ ‘κ·Όν•κΈ°λ¥Ό μ›ν•λ‹¤λ©΄ λ¦¬ν„΄λλ” μ§€μ‹μμ—μ„ κµ¬λ³„λ  μ μμ–΄μ•Ό ν•λ‹¤.

   * ```json
     {
        "account_id": 12345,
         "balance": "312,000",
         "links": [
             {
                 "rel": "self",
                 "href": "http://localhost:8080/accounts/12345"
             },
             {
                 "rel": "transfer",
                 "href": "http://localhost:8080/accounts/12345/transfer"
             }
         ]
     }
     ```

> μ΄λ¬ν• μ›μΉ™μ„ μ¤€μν• APIλ¥Ό RESTful APIλΌκ³  ν•λ‹¤.
{: .prompt-info}

## RESTμ λ©ν‘

* κµ¬μ„± μ”μ† μƒνΈμ‘μ©μ κ·λ¨ ν™•μ¥μ„±
* μΈν„°νμ΄μ¤μ λ²”μ©μ„±
* κµ¬μ„± μ”μ†μ λ…λ¦½μ μΈ λ°°ν¬



### μ¥μ 

1. λ³„λ„μ μΈν”„λΌ κµ¬μ¶• λ¶ν•„μ”
2. ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„μ λ¶„λ¦¬
3. ν”λ«νΌ λ…λ¦½μ 
4. μ‰¬μ΄ μ‚¬μ©



### λ‹¨μ 

1. λ³„λ„μ λ…ν™•ν• ν‘μ¤€μ΄ μ΅΄μ¬ν•μ§€ μ•μ
2. HTTP Methodμ ν•κ³„λ΅ μΈν•, Operationμ λ¨νΈμ„±
3. RDBMSμ™€λ” λ§μ§€ μ•μ

