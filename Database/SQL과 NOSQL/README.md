## SQL과 NOSQL의 차이

### SQL

---

SQL을 사용하면 RDBMS에서 데이터를 저장, 수정, 삭제 및 검색 할 수 있다

<br>

관계형 데이터베이스에는 핵심적인 두 가지 특징이 있다 <br>

- 데이터는 **정해진 데이터 스키마에 따라 테이블에 저장**된다.
- 데이터는 **관계를 통해 여러 테이블에 분산**된다.

<br>

데이터는 테이블에 레코드로 저장되는데 각 테이블마다 명확하게 정의된 구조가 있다. 해당 구조는 필드의 이름과 데이터 유형으로 정의된다. <br>
👉 **스키마를 준수하지 않은 레코드는 테이블에 추가할 수 없다**

<br>

### NoSQL

---

스키마도 없고 관계도 없다! <br>
NoSQL에서는 레코드를 **문서**라고 부른다
<br><br>
📢 SQL은 정해진 스키마를 따르지 않으면 데이터 추가가 불가능했지만 **NoSQL에서는 다른 구조의 데이터를 같은 컬렉션에 추가가 가능**하다 <br><br>

문서는 Json과 비슷한 형태로 가지고 있다. 관계형 데이터베이스처럼 여러 테이블에 나누어담지 않고 관련 데이터를 동일한 **컬렉션**에 넣는다 <br>
👉 여러 테이블에 <u>조인할 필요없이</u> **이미 필요한 모든 것을 갖춘 문서를 작성**하는 것이 NoSQL이다.

> 💡 **_조인하고 싶을 때 NoSQL은 어떻게 할까?_** <br>
> 컬렉션을 통해 데이터를 복제하여 각 컬렉션 일부분에 속하는 데이터를 정확하게 산출하도록 한다! <br><br>
> 그러나 데이터가 중복되어 서로 영향을 줄 위험이 있는데, 따라서 조인을 잘 사용하지 않고 **자주 변경되지 않는 데이터일 때** NoSQL을 쓰는 것이 좋다!

<br><br>
**Scaling** <br>
데이터 스케일링은 데이터의 값의 범위를 조정하는 것을 말한다. <br><br>
데이터베이스 서버의 확장성은 '수직적'확장과 '수평적'확장으로 나누어진다

- **수직적 확장** : 단순히 데이터베이스 서버의 성능을 향상시키는 것 (ex. CPU 업그레이드)
- **수평적 확장** : 더 많은 서버가 추가되고 데이터베이스가 전체적으로 분산됨을 의미 (하나의 데이터베이스에서 작동하지만 여러 호스트에서 작동)

👉 데이터 저장 방식으로 인해 SQL 데이터베이스는 일반적으로 수직적 확장만 지원! (**수평적 확장은 NoSQL 데이터베이스에만 가능**)

<br><br>

### 장단점 비교

---

**SQL 장점** <br>

- 명확하게 정의된 스키마, 데이터 무결성 보장
- 관계는 각 데이터를 중복없이 한번만 저장

**SQL 단점** <br>

- 덜 유연함. 데이터 스키마를 사전에 계획하고 알려야 함
- 관계를 맺고 있어서 조인문이 많은 복잡한 쿼리가 만들어질 수 있다
- 대체로 수직적 확장만 가능

<br>

---

<br>

**NoSQL 장점** <br>

- 스키마가 없어서 유연함 언제든지 저장된 데이터를 조정하고 새로운 필드 추가 가능
- 데이터는 애플리케이션이 필요로 하는 형식으로 저장됨 (데이터 읽어오는 속도 빠름)
- 수직 및 수평 확장이 가능해서 애플리케이션이 발생시키는 모든 읽기/쓰기 요청 가능

**NoSQL 단점** <br>

- 데이터 중복을 계속 업데이트 해야 함
- 데이터가 여러 컬렉션에 중복되어 있기 때문에 수정 시 모든 컬렉션에서 수행해야 함

<br>

---

<br>

**SQL 사용이 더 좋은 경우** <br>

- 관계를 맺고 있는 **데이터가 자주 변경**되는 애플리케이션의 경우
- 변경될 여지가 없고, **명확한 스키마**가 사용자와 데이터에게 중요한 경우

**NoSQL 데이터베이스 사용이 더 좋을 때** <br>

- 정확한 데이터 구조를 알 수 없거나 **변경/확장** 될 수 있는 경우
- 읽기를 자주 하지만, **데이터 변경은 자주 없는** 경우
- 데이터베이스를 **수평으로 확장**해야 하는 경우 (**막대한 양의 데이터**를 다뤄야 하는 경우)

<br><br>

### 면접 질문 예상

---

<details>
    <summary>RDBMS와 NoSQL에 대해서 설명해주세요</summary>
    RDBMS는 데이터베이스를 이루는 객체들의 릴레이션을 통해서 데이터를 저장하는 데이터베이스입니다. SQL을 사용해 데이터의 저장, 손실, 수정, 삭제를 할 수 있으며 구조화가 굉장히 중요합니다. <br><br>
    명확한 데이터 구조를 보장하고 중복을 피할 수 있다는 장점이 있습니다. <br><br>
    NoSQL은 RDBMS에 비해 자유로운 형태로 데이터를 저장합니다. 또한 수평 확장을 할 수 있고 분산 처리를 지원합니다.
</details>
